\href{https://travis-ci.org/phpspec/prophecy-phpunit}{\texttt{ }}

\mbox{\hyperlink{namespace_prophecy}{Prophecy}} Php\+Unit integrates the \href{https://github.com/phpspec/prophecy}{\texttt{ Prophecy}} mocking library with \href{https://phpunit.de}{\texttt{ PHPUnit}} to provide an easier mocking in your testsuite.\hypertarget{md__c__workspace__proyecto__p_h_p_project_vendor_phpspec_prophecy_phpunit__r_e_a_d_m_e_autotoc_md364}{}\doxysection{Installation}\label{md__c__workspace__proyecto__p_h_p_project_vendor_phpspec_prophecy_phpunit__r_e_a_d_m_e_autotoc_md364}
\hypertarget{md__c__workspace__proyecto__p_h_p_project_vendor_phpspec_prophecy_phpunit__r_e_a_d_m_e_autotoc_md365}{}\doxysubsection{Prerequisites}\label{md__c__workspace__proyecto__p_h_p_project_vendor_phpspec_prophecy_phpunit__r_e_a_d_m_e_autotoc_md365}
\mbox{\hyperlink{namespace_prophecy}{Prophecy}} Php\+Unit requires PHP 7.\+3 or greater. \mbox{\hyperlink{namespace_prophecy}{Prophecy}} Php\+Unit requires \mbox{\hyperlink{namespace_p_h_p_unit}{PHPUnit}} 9.\+1 or greater. Older versions of \mbox{\hyperlink{namespace_p_h_p_unit}{PHPUnit}} are providing the \mbox{\hyperlink{namespace_prophecy}{Prophecy}} integration themselves.\hypertarget{md__c__workspace__proyecto__p_h_p_project_vendor_phpspec_prophecy_phpunit__r_e_a_d_m_e_autotoc_md366}{}\doxysubsection{Setup through composer}\label{md__c__workspace__proyecto__p_h_p_project_vendor_phpspec_prophecy_phpunit__r_e_a_d_m_e_autotoc_md366}

\begin{DoxyCode}{0}
\DoxyCodeLine{\$> composer require -\/-\/dev phpspec/prophecy-\/phpunit}

\end{DoxyCode}


You can read more about \mbox{\hyperlink{namespace_composer}{Composer}} on its \href{https://getcomposer.org}{\texttt{ official webpage}}.\hypertarget{md__c__workspace__proyecto__p_h_p_project_vendor_phpspec_prophecy_phpunit__r_e_a_d_m_e_autotoc_md367}{}\doxysection{How to use it}\label{md__c__workspace__proyecto__p_h_p_project_vendor_phpspec_prophecy_phpunit__r_e_a_d_m_e_autotoc_md367}
The trait {\ttfamily Prophecy\+Trait} provides a method {\ttfamily prophesize(\$class\+Or\+Interface = null)} to use \mbox{\hyperlink{namespace_prophecy}{Prophecy}}. For the usage of the \mbox{\hyperlink{namespace_prophecy}{Prophecy}} doubles, please refer to the \href{https://github.com/phpspec/prophecy}{\texttt{ Prophecy documentation}}.

Below is a usage example\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<?php}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{namespace }App;}
\DoxyCodeLine{}
\DoxyCodeLine{use \mbox{\hyperlink{class_p_h_p_unit_1_1_framework_1_1_test_case}{PHPUnit\(\backslash\)Framework\(\backslash\)TestCase}};}
\DoxyCodeLine{use Prophecy\(\backslash\)PhpUnit\(\backslash\)ProphecyTrait;}
\DoxyCodeLine{use App\(\backslash\)Security\(\backslash\)Hasher;}
\DoxyCodeLine{use App\(\backslash\)Entity\(\backslash\)User;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{class }UserTest \textcolor{keyword}{extends} TestCase}
\DoxyCodeLine{\{}
\DoxyCodeLine{    use \mbox{\hyperlink{namespace_prophecy_1_1_php_unit_a74104e02b2d3497d8cf7f786e3d1e414}{ProphecyTrait}};}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keyword}{public} \textcolor{keyword}{function} testPasswordHashing()}
\DoxyCodeLine{    \{}
\DoxyCodeLine{        \$hasher = \$this-\/>\mbox{\hyperlink{namespace_prophecy_1_1_php_unit_a3ff8db8bf2f51b9bb372f342c6965c61}{prophesize}}(Hasher::class);}
\DoxyCodeLine{        \$user   = \textcolor{keyword}{new} User(\$hasher-\/>reveal());}
\DoxyCodeLine{}
\DoxyCodeLine{        \$hasher-\/>generateHash(\$user, \textcolor{stringliteral}{'qwerty'})-\/>willReturn(\textcolor{stringliteral}{'hashed\_pass'});}
\DoxyCodeLine{}
\DoxyCodeLine{        \$user-\/>setPassword(\textcolor{stringliteral}{'qwerty'});}
\DoxyCodeLine{}
\DoxyCodeLine{        \$this-\/>assertEquals(\textcolor{stringliteral}{'hashed\_pass'}, \$user-\/>getPassword());}
\DoxyCodeLine{    \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
 